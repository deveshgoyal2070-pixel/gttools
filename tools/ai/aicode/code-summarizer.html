<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Code Summarizer | GTTools</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>body{font-family:system-ui;background:#f8fafc;margin:0;color:#0f172a}.wrap{max-width:900px;margin:30px auto;padding:18px}textarea{width:100%;min-height:220px;padding:12px;border-radius:8px;border:1px solid #e5e7eb}button{margin-top:10px;padding:10px 14px;background:#0ea5a4;color:#fff;border:0;border-radius:8px}pre{background:#fff;padding:12px;border:1px solid #e5e7eb;border-radius:8px;margin-top:10px;white-space:pre-wrap}</style>
</head>
<body>
<div class="wrap">
  <a href="/">← Back</a>
  <h1>Code Summarizer</h1>
  <p>Paste code — tool functions, imports and a short summary will be extracted.</p>
  <textarea id="code" placeholder="Paste your code here..."></textarea>
  <button onclick="summarize()">Summarize Code</button>
  <pre id="out"></pre>
</div>
<script>
function summarize(){
  const src = document.getElementById('code').value;
  if(!src.trim()){ out.textContent='Paste some code first.'; return; }
  // extract imports
  const imports = (src.match(/^\s*(?:import|from|require\(|const .*require\(|var .*require\().*/gmi)||[]).slice(0,20);
  // extract functions (js/python)
  const fnRegex = /(?:function\s+([A-Za-z0-9_$]+)|def\s+([A-Za-z0-9_]+)\s*\(|([A-Za-z0-9_]+)\s*=\s*function\s*\(|([A-Za-z0-9_]+)\s*:\s*function\s*\()/g;
  let m, funcs = [];
  while((m = fnRegex.exec(src)) !== null){
    const name = m[1]||m[2]||m[3]||m[4];
    if(name && !funcs.includes(name)) funcs.push(name);
  }
  // count lines and comments
  const lines = src.split('\n').length;
  const comments = (src.match(/\/\/.*|\/\*[\s\S]*?\*\/|#.*$/gm)||[]).length;
  let outS = `Lines: ${lines}\nComments: ${comments}\n\n`;
  if(imports.length) outS += 'Imports/Requires:\n' + imports.join('\n') + '\n\n';
  if(funcs.length){
    outS += 'Functions detected:\n';
    funcs.forEach(f=> outS += `- ${f}: Short description — does specific task (manual refine recommended)\n`);
  } else outS += 'No obvious functions detected.\n';
  out.textContent = outS;
}
</script>
</body>
</html>
