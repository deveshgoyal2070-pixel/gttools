<script>
async function enhanceText(){
let text=document.getElementById("inputText").value.trim();
let mode=document.getElementById("mode").value;
if(!text){alert("Enter text first");return;}

document.getElementById("outputText").innerText="AI is improving your text...";

let instruction="";
if(mode==="professional") instruction="Rewrite this text in a professional tone:";
if(mode==="human") instruction="Rewrite this text to sound more natural and human:";
if(mode==="simple") instruction="Simplify this text:";
if(mode==="grammar") instruction="Fix grammar and improve clarity:";

const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer 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"
  },
  body: JSON.stringify({
    model: "llama3-8b-8192",
    messages: [
      { role: "system", content: "You are a helpful writing assistant." },
      { role: "user", content: instruction + "\n\n" + text }
    ],
    temperature: 0.7
  })
});

const data = await response.json();
document.getElementById("outputText").innerText =
  data.choices?.[0]?.message?.content || "Error generating text.";
}
</script>
